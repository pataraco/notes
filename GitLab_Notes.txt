GitLab Notes
------------


CI/CD
-----

Docs
----
  GitLab Ci/CD: https://about.gitlab.com/features/gitlab-ci-cd/
  (/) Quick Start: https://docs.gitlab.com/ee/ci/quick_start/
               https://docs.gitlab.com/ee/ci/quick_start/README.html
  GitLab CI: https://docs.gitlab.com/ee/ci/
  .gitlab-ci.yml syntax: https://docs.gitlab.com/ee/ci/yaml/README.html

Files
-----
  - Pipeline file
     .gitlab-ci.yml in repo root
  - runner config
     /etc/gitlab-runner/config.toml

Runners
-------
# Specific Runner
- checking for existance of a runner
  Project -> Settings -> CI/CD Pipelines
- install a runner -  https://docs.gitlab.com/runner/install/
  # configure yum repo to install the runner
  $ curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | sudo bash
  # install the runner
  $ sudo yum install gitlab-runner
  # register the runner   # get the URL and token from runnner settings page in GitLab UI
  # register under Linux
  $ sudo gitlab-runner register
  Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com/):
  https://git.org-lab.com/ci
  Please enter the gitlab-ci token for this runner:
  Fk-xyTY_31J
  Please enter the gitlab-ci description for this runner:
  [praco.dev.local]: raco-gitlab-runner
  Please enter the gitlab-ci tags for this runner (comma separated):
  raco,test
  Whether to run untagged builds [true/false]:
  [false]: true
  Whether to lock the Runner to current project [true/false]:
  [true]: true
  Registering runner... succeeded                     runner=Fk-xyT
  Please enter the executor: docker+machine, docker-ssh+machine, virtualbox, docker-ssh, parallels, shell, ssh, kubernetes, docker:
  docker
  Please enter the default Docker image (e.g. ruby:2.1):
  ruby:2.1
  Runner registered successfully. Feel free to start it, but if it's running already the config should be automatically reloaded!
- configure it   # should be done already - look on runners page
  https://docs.gitlab.com/ee/ci/runners/README.html#registering-a-specific-runner
# Shared Runner
